(()=>{"use strict";var e,n={87:(e,n,r)=>{const s=window.wp.blocks,o=window.wp.i18n,i=window.wp.apiFetch;var t=r.n(i);const l=window.wp.element,a=window.wp.components,d=window.wp.coreData,c=window.wp.data,p=window.wp.blockEditor,u=window.ReactJSXRuntime,h=JSON.parse('{"UU":"sim/linkeduserdescription"}');(0,s.registerBlockType)(h.UU,{icon:"admin-users",edit:({attributes:e,setAttributes:n})=>{const{id:r,picture:s,phone:i,email:h,style:w}=e,[m,x]=(0,l.useState)(""),{users:v,hasResolved:g}=(0,c.useSelect)((n=>{if(!m)return{users:[],hasResolved:!0};const r={exclude:e.onlyOn,search:m,per_page:100,context:"view"};return{users:n(d.store).getUsers(r),hasResolved:n(d.store).hasFinishedResolution("getUsers",[r])}}),[m]),f=function(){if(!g)return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.Spinner,{}),(0,u.jsx)("br",{})]});if(!v?.length)return(0,u.jsxs)("div",{children:[" ",(0,o.__)("No users found","sim")]});let e=v.map((e=>({label:e.name,value:e.id})));return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(a.RadioControl,{selected:parseInt(r),options:e,onChange:e=>{n({id:e})}})})},[j,b]=(0,l.useState)((0,u.jsx)(a.Spinner,{}));return(0,l.useEffect)((()=>{!async function(){b((0,u.jsx)(a.Spinner,{}));const e=await t()({path:`${sim.restApiPrefix}/userpage/linked_user_description?id=${r}&picture=${s}&phone=${i}&email=${h}&style=${w}`});b(e)}()}),[e]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(p.InspectorControls,{children:(0,u.jsx)(a.Panel,{children:(0,u.jsxs)(a.PanelBody,{children:[(0,u.jsx)("i",{children:(0,o.__)("Use searchbox below to search an user to display","sim")}),(0,u.jsx)(a.SearchControl,{onChange:x,value:m}),(0,u.jsx)(f,{}),(0,u.jsx)(a.ToggleControl,{label:(0,o.__)("Show picture","sim"),checked:!!e.picture,onChange:()=>n({picture:!e.picture})}),(0,u.jsx)(a.ToggleControl,{label:(0,o.__)("Show phonenumbers","sim"),checked:!!e.phone,onChange:()=>n({phone:!e.phone})}),(0,u.jsx)(a.ToggleControl,{label:(0,o.__)("Show e-mail address","sim"),checked:!!e.email,onChange:()=>n({email:!e.email})}),(0,u.jsx)(a.__experimentalInputControl,{isPressEnterToChange:!0,label:"Optional extra styling",value:w,onChange:e=>n({style:e})})]})})}),(0,u.jsx)("div",{...(0,p.useBlockProps)(),children:wp.element.RawHTML({children:j})})]})},save:()=>null})}},r={};function s(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,s),i.exports}s.m=n,e=[],s.O=(n,r,o,i)=>{if(!r){var t=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],i=e[c][2];for(var l=!0,a=0;a<r.length;a++)(!1&i||t>=i)&&Object.keys(s.O).every((e=>s.O[e](r[a])))?r.splice(a--,1):(l=!1,i<t&&(t=i));if(l){e.splice(c--,1);var d=o();void 0!==d&&(n=d)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,o,i]},s.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return s.d(n,{a:n}),n},s.d=(e,n)=>{for(var r in n)s.o(n,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={57:0,350:0};s.O.j=n=>0===e[n];var n=(n,r)=>{var o,i,t=r[0],l=r[1],a=r[2],d=0;if(t.some((n=>0!==e[n]))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(a)var c=a(s)}for(n&&n(r);d<t.length;d++)i=t[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(c)},r=self.webpackChunksim_linkedduserdescription=self.webpackChunksim_linkedduserdescription||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var o=s.O(void 0,[350],(()=>s(87)));o=s.O(o)})();