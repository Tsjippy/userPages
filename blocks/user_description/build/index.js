(()=>{"use strict";var e={n:n=>{var s=n&&n.__esModule?()=>n.default:()=>n;return e.d(s,{a:s}),s},d:(n,s)=>{for(var r in s)e.o(s,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:s[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=window.wp.blocks,s=window.wp.i18n,r=window.wp.apiFetch;var t=e.n(r);const o=window.wp.element,i=window.wp.components,l=window.wp.coreData,a=window.wp.data,c=window.wp.blockEditor,d=window.ReactJSXRuntime,p=JSON.parse('{"UU":"sim/linkeduserdescription"}');(0,n.registerBlockType)(p.UU,{icon:"admin-users",edit:({attributes:e,setAttributes:n})=>{const{id:r,picture:p,phone:u,email:h,style:w}=e,[m,x]=(0,o.useState)(""),{users:g,hasResolved:j}=(0,a.useSelect)((n=>{if(!m)return{users:[],hasResolved:!0};const s={exclude:e.onlyOn,search:m,per_page:100,context:"view"};return{users:n(l.store).getUsers(s),hasResolved:n(l.store).hasFinishedResolution("getUsers",[s])}}),[m]),_=function(){if(!j)return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Spinner,{}),(0,d.jsx)("br",{})]});if(!g?.length)return(0,d.jsxs)("div",{children:[" ",(0,s.__)("No users found","sim")]});let e=g.map((e=>({label:e.name,value:e.id})));return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.RadioControl,{selected:parseInt(r),options:e,onChange:e=>{n({id:e})}})})},[b,v]=(0,o.useState)((0,d.jsx)(i.Spinner,{}));return(0,o.useEffect)((()=>{!async function(){v((0,d.jsx)(i.Spinner,{}));const e=await t()({path:`${sim.restApiPrefix}/userpage/linked_user_description?id=${r}&picture=${p}&phone=${u}&email=${h}&style=${w}`});v(e)}()}),[e]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.InspectorControls,{children:(0,d.jsx)(i.Panel,{children:(0,d.jsxs)(i.PanelBody,{children:[(0,d.jsx)("i",{children:(0,s.__)("Use searchbox below to search an user to display","sim")}),(0,d.jsx)(i.SearchControl,{onChange:x,value:m}),(0,d.jsx)(_,{}),(0,d.jsx)(i.ToggleControl,{label:(0,s.__)("Show picture","sim"),checked:!!e.picture,onChange:()=>n({picture:!e.picture})}),(0,d.jsx)(i.ToggleControl,{label:(0,s.__)("Show phonenumbers","sim"),checked:!!e.phone,onChange:()=>n({phone:!e.phone})}),(0,d.jsx)(i.ToggleControl,{label:(0,s.__)("Show e-mail address","sim"),checked:!!e.email,onChange:()=>n({email:!e.email})}),(0,d.jsx)(i.__experimentalInputControl,{isPressEnterToChange:!0,label:"Optional extra styling",value:w,onChange:e=>n({style:e})})]})})}),(0,d.jsx)("div",{...(0,c.useBlockProps)(),children:wp.element.RawHTML({children:b})})]})},save:()=>null})})();